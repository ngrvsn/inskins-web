# Дизайн мобильного меню хедера

## Обзор

Мобильное меню хедера представляет собой адаптивное решение для экранов шириной 900px и меньше. Дизайн включает компактный хедер с основными элементами управления и выдвижное боковое меню с полным набором навигационных элементов и функций профиля.

## Архитектура

### Компоненты

1. **MobileHeader** - адаптивная версия хедера для мобильных устройств
2. **MobileMenu** - выдвижное боковое меню с навигацией и профилем
3. **MobileMenuOverlay** - оверлей для закрытия меню при клике вне его

### Структура компонентов

```
Header/
├── Header.tsx (обновленный с мобильной логикой)
├── Header.module.scss (обновленный с мобильными стилями)
├── MobileMenu/
│   ├── MobileMenu.tsx
│   └── MobileMenu.module.scss
└── MobileMenuOverlay/
    ├── MobileMenuOverlay.tsx
    └── MobileMenuOverlay.module.scss
```

## Компоненты и интерфейсы

### MobileMenu Component

```typescript
interface IMobileMenuProps {
  isOpen: boolean
  onClose: () => void
  isAuthenticated: boolean
  profileData?: IProfileData
  profileError?: string
  isProfileLoading: boolean
  onLogin: () => void
  onLogout: () => void
  onDepositClick: () => void
  onWithdrawClick: () => void
  onProfileClick: () => void
  onRetryProfile: () => void
  activeTab: 'buy' | 'sell'
  activeNavItem: string
  onTabChange: (tab: 'buy' | 'sell') => void
  onNavItemChange: (item: string) => void
}
```

### MobileMenuOverlay Component

```typescript
interface IMobileMenuOverlayProps {
  isVisible: boolean
  onClick: () => void
}
```

## Модели данных

### Состояние мобильного меню

```typescript
interface IMobileMenuState {
  isOpen: boolean
  isAnimating: boolean
}
```

### Профильные данные (используются существующие)

```typescript
interface IProfileData {
  steamAvatar?: string
  displayName?: string
  steamNickname?: string
  balance?: number
  currency?: string
}
```

## Дизайн-система

### Брейкпоинты

- **Desktop**: > 900px - показывается обычный хедер
- **Mobile**: ≤ 900px - показывается мобильная версия

### Цветовая схема

- **Фон хедера**: #0d0e12
- **Фон меню**: #131419
- **Фон плиток навигации**: rgba(14, 14, 18, 0.90)
- **Границы плиток**: #141414
- **Тень плиток**: 0 0 4px 0 rgba(255, 255, 255, 0.10) inset
- **Активные элементы**: #7bf202 (зеленый акцент)
- **Текст**: #fff
- **Кнопка выхода**: #dc4446

### Размеры и отступы

- **Высота хедера**: 68px (12px padding сверху и снизу + 44px контент)
- **Ширина меню**: 320px
- **Отступы между плитками**: 34px
- **Padding плиток**: 16px
- **Border radius плиток**: 14px
- **Размер аватара**: 28px (миниатюрный в хедере), 40px (в меню)

### Анимации

- **Открытие меню**: slide-in справа налево, 300ms ease-out
- **Закрытие меню**: slide-out слева направо, 250ms ease-in
- **Оверлей**: fade-in/fade-out, 200ms ease

## Адаптивное поведение

### Мобильный хедер (≤ 900px)

**Структура:**

```
[Логотип] ........................ [Аватар][Корзина][Меню]
```

**Элементы:**

- Логотип (слева)
- Миниатюрный аватар пользователя (28px)
- Кнопка корзины (только иконка, без текста)
- Кнопка мобильного меню (иконка гамбургера)

### Мобильное меню

**Структура сверху вниз:**

1. **Блок профиля** (если авторизован):

   - Аватар пользователя (40px)
   - Имя пользователя
   - Баланс (основная валюта и USD)
   - Кнопки действий профиля

2. **Разделитель**

3. **Блок навигационных действий**:

   - "Купить скины" (плитка)
   - "Продать скины" (плитка)

4. **Блок основной навигации**:

   - "Главная" (плитка)
   - "Маркет" (плитка)
   - "Блог" (плитка)
   - "FAQ" (плитка)

5. **Нижний блок настроек**:

   - Селектор валют
   - Селектор языка

6. **Кнопка выхода** (если авторизован)

## Обработка ошибок

### Состояния загрузки

- **Загрузка профиля**: показать Spinner в блоке профиля
- **Ошибка профиля**: показать сообщение об ошибке и кнопку "Повторить"
- **Загрузка авторизации**: показать Spinner вместо кнопки входа

### Обработка ошибок

- Ошибки профиля отображаются в блоке профиля
- При ошибках сети показывается возможность повторить запрос
- Критические ошибки логируются в консоль

## Стратегия тестирования

НЕ ПИСАТЬ НИКАКИХ ТЕСТОВ

## Технические детали

### CSS Media Queries

```scss
// Мобильная версия
@media (max-width: 900px) {
  .actionButtons,
  .navigation {
    display: none;
  }

  .mobileControls {
    display: flex;
  }
}

// Desktop версия
@media (min-width: 901px) {
  .mobileControls,
  .mobileMenu {
    display: none;
  }
}
```

### Z-index слои

- **Хедер**: z-index: 100
- **Мобильное меню**: z-index: 1000
- **Оверлей**: z-index: 999
- **Модалки**: z-index: 1001

### Accessibility

- Поддержка клавиатурной навигации
- ARIA-атрибуты для скрин-ридеров
- Семантическая разметка навигационных элементов
- Фокус-менеджмент при открытии/закрытии меню
