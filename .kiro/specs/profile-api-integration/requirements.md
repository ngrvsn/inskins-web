# Требования к интеграции API в компоненты профиля

## Введение

Необходимо интегрировать реальные данные из API в компоненты профиля пользователя и хедера. В настоящее время компоненты используют моковые данные, что не позволяет пользователям видеть актуальную информацию о своем профиле, балансе, транзакциях и предметах.

## Требования

### Требование 1

**Пользовательская история:** Как авторизованный пользователь, я хочу видеть актуальную информацию о своем профиле в хедере, чтобы контролировать свой баланс и статус аккаунта.

#### Критерии приемки

1. КОГДА пользователь авторизован ТОГДА система ДОЛЖНА отображать реальные данные профиля в хедере
2. КОГДА пользователь авторизован ТОГДА система ДОЛЖНА показывать актуальный баланс из API users/me
3. КОГДА пользователь авторизован ТОГДА система ДОЛЖНА отображать реальный аватар из Steam API
4. КОГДА пользователь авторизован ТОГДА система ДОЛЖНА показывать корректное имя пользователя
5. ЕСЛИ данные профиля не загружены ТОГДА система ДОЛЖНА показывать индикатор загрузки

### Требование 2

**Пользовательская история:** Как пользователь, я хочу видеть полную информацию о своем профиле на странице профиля, чтобы управлять настройками и просматривать статистику.

#### Критерии приемки

1. КОГДА пользователь открывает страницу профиля ТОГДА система ДОЛЖНА загружать данные через API users/me
2. КОГДА данные профиля загружены ТОГДА система ДОЛЖНА отображать полную информацию пользователя
3. КОГДА пользователь изменяет настройки ТОГДА система ДОЛЖНА сохранять изменения через API
4. ЕСЛИ загрузка данных не удалась ТОГДА система ДОЛЖНА показать сообщение об ошибке
5. КОГДА пользователь не авторизован ТОГДА система ДОЛЖНА перенаправить на главную страницу

### Требование 3

**Пользовательская история:** Как пользователь, я хочу видеть реальную историю своих транзакций, чтобы отслеживать операции с балансом и предметами.

#### Критерии приемки

1. КОГДА пользователь открывает вкладку транзакций ТОГДА система ДОЛЖНА загружать данные через API users/{steamId}/transactions
2. КОГДА транзакции загружены ТОГДА система ДОЛЖНА отображать их в табличном формате
3. КОГДА пользователь использует поиск ТОГДА система ДОЛЖНА фильтровать транзакции локально
4. КОГДА пользователь кликает на транзакцию ТОГДА система ДОЛЖНА показывать детальную информацию
5. ЕСЛИ транзакций нет ТОГДА система ДОЛЖНА показать соответствующее сообщение

### Требование 4

**Пользовательская история:** Как пользователь, я хочу видеть свои заказы и их статусы, чтобы отслеживать процесс продажи предметов.

#### Критерии приемки

1. КОГДА пользователь просматривает заказы ТОГДА система ДОЛЖНА загружать данные через API orders/my
2. КОГДА заказы загружены ТОГДА система ДОЛЖНА отображать их с актуальными статусами
3. КОГДА пользователь кликает на заказ ТОГДА система ДОЛЖНА показывать детальную информацию
4. КОГДА статус заказа изменяется ТОГДА система ДОЛЖНА обновлять отображение
5. ЕСЛИ заказов нет ТОГДА система ДОЛЖНА показать соответствующее сообщение

### Требование 5

**Пользовательская история:** Как разработчик, я хочу иметь централизованную систему управления состоянием загрузки данных, чтобы обеспечить консистентный пользовательский опыт.

#### Критерии приемки

1. КОГДА происходит загрузка данных ТОГДА система ДОЛЖНА показывать индикаторы загрузки
2. КОГДА происходит ошибка загрузки ТОГДА система ДОЛЖНА показывать понятные сообщения об ошибках
3. КОГДА данные загружены ТОГДА система ДОЛЖНА кешировать их для повторного использования
4. КОГДА пользователь обновляет данные ТОГДА система ДОЛЖНА инвалидировать кеш
5. ЕСЛИ токен авторизации истек ТОГДА система ДОЛЖНА автоматически обновить его или перенаправить на авторизацию

## Ограничения

- НЕ требуется написание автоматических тестов (unit, integration, e2e)
- НЕ требуется модификация существующей API структуры - используем текущие эндпоинты как есть
- Структура API корректна и была создана в предыдущих задачах
- Фокус только на интеграции существующих API методов в компоненты
