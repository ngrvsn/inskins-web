# План реализации системы отслеживания сделок

- [ ] 1. Создать базовые UI компоненты

  - Создать переиспользуемые компоненты для системы отслеживания
  - Реализовать компоненты согласно дизайн-системе проекта
  - _Требования: 1.1, 1.2, 1.3, 1.4, 1.5, 1.6_

- [ ] 1.1 Создать компонент информационного баннера

  - Реализовать InfoBanner компонент с зеленой иконкой и градиентным фоном
  - Добавить поддержку вариантов info и warning
  - Создать соответствующие стили в SCSS модуле
  - _Требования: 7.1, 7.2, 7.3, 7.4_

- [ ] 1.2 Создать компонент прогресс-бара транзакции

  - Реализовать TransactionProgress с тремя шагами
  - Добавить логику отображения различных состояний (неактивен, текущий, завершен, отменен)
  - Создать иконки для состояний (галочка, точка, крест)
  - _Требования: 1.1, 1.2, 1.3, 1.4, 1.5, 1.6_

- [ ] 1.3 Создать компонент номера транзакции с копированием

  - Реализовать TransactionNumber с функцией копирования в буфер обмена
  - Добавить toast уведомление при успешном копировании
  - Использовать существующую иконку copy-gray.svg
  - _Требования: 6.1, 6.2, 6.3_

- [ ] 1.4 Создать компонент таймера обратного отсчета

  - Реализовать Timer с обратным отсчетом в формате MM:SS
  - Добавить автоматический вызов callback при достижении 00:00
  - Стилизовать в зеленом цвете согласно дизайну
  - _Требования: 2.4, 2.5_

- [ ] 1.5 Создать компонент спиннера загрузки

  - Реализовать Spinner с круговой анимацией
  - Добавить поддержку различных размеров и цветов
  - Создать зеленый вариант для экрана ожидания выплаты
  - _Требования: 3.3_

- [ ] 1.6 Обновить компонент Button для новых вариантов

  - Добавить варианты white и dark к существующему Button компоненту
  - Добавить поддержку иконок с позиционированием left/right
  - Реализовать стили для новых вариантов кнопок
  - _Требования: 2.9, 4.5, 5.5_

- [ ] 2. Создать компоненты экранов транзакций

  - Реализовать компоненты для каждого состояния сделки
  - Интегрировать созданные UI компоненты
  - _Требования: 2.1, 3.1, 4.1, 5.1_

- [ ] 2.1 Создать экран ожидания подтверждения

  - Реализовать PendingConfirmation компонент с таймером
  - Добавить информационные блоки с инструкциями по безопасности
  - Создать блок с информацией о боте (уровень, имя, аватар)
  - Добавить две кнопки подтверждения (браузер/клиент)
  - _Требования: 2.1, 2.2, 2.3, 2.4, 2.6, 2.7, 2.8, 2.9_

- [ ] 2.2 Создать экран ожидания выплаты

  - Реализовать PendingPayout компонент с спиннером загрузки
  - Интегрировать компонент номера транзакции
  - Настроить прогресс-бар для отображения второго шага как текущего
  - _Требования: 3.1, 3.2, 3.3, 3.4_

- [ ] 2.3 Создать экран отмены сделки

  - Реализовать TransactionCancelled компонент с красной иконкой
  - Добавить объяснение причины отмены и ссылку на поддержку
  - Создать кнопку "ПОПРОБОВАТЬ ЕЩЁ РАЗ" в темном стиле
  - Настроить прогресс-бар для отображения всех шагов как отмененных
  - _Требования: 4.1, 4.2, 4.3, 4.4, 4.5, 4.6_

- [ ] 2.4 Создать экран завершения сделки

  - Реализовать TransactionCompleted компонент
  - Добавить информационный баннер о Steam Trade Protection
  - Создать блок с информацией о поддержке и иконкой Telegram
  - Добавить кнопку "СОЗДАТЬ ЕЩЁ ОДНУ СДЕЛКУ"
  - _Требования: 5.1, 5.2, 5.3, 5.4, 5.5, 5.6_

- [ ] 3. Создать основную страницу отслеживания

  - Реализовать динамический маршрут для отслеживания транзакций
  - Добавить логику определения состояния и отображения соответствующего компонента
  - _Требования: 1.1, 2.1, 3.1, 4.1, 5.1_

- [ ] 3.1 Создать страницу отслеживания транзакции

  - Создать файл src/app/sell/transaction/[transactionId]/page.tsx
  - Реализовать получение ID транзакции из параметров маршрута
  - Добавить логику загрузки данных о транзакции (мок данные)
  - Создать условную отрисовку компонентов в зависимости от статуса
  - _Требования: 1.1, 2.1, 3.1, 4.1, 5.1_

- [ ] 3.2 Добавить обработку состояний загрузки и ошибок

  - Создать компонент TransactionError для обработки ошибок
  - Добавить состояние загрузки с спиннером
  - Реализовать обработку случая "транзакция не найдена"
  - _Требования: 1.1_

- [ ] 4. Создать типы и интерфейсы

  - Определить TypeScript интерфейсы для данных транзакций
  - Создать типы для различных состояний системы
  - _Требования: 1.1, 2.1, 3.1, 4.1, 5.1_

- [ ] 4.1 Создать типы для транзакций

  - Создать файл src/types/transaction.ts
  - Определить интерфейс ITransaction с полями id, status, createdAt и др.
  - Добавить типы для статусов транзакций
  - Создать интерфейсы для данных бота и ответов API
  - _Требования: 1.1, 2.1, 3.1, 4.1, 5.1_

- [ ] 5. Добавить адаптивность для мобильных устройств

  - Реализовать адаптивные стили для всех компонентов
  - Настроить вертикальное расположение кнопок на мобильных
  - _Требования: 8.1, 8.2, 8.3, 8.4_

- [ ] 5.1 Создать адаптивные стили для компонентов транзакций

  - Добавить медиа-запросы для брейкпоинта 768px
  - Реализовать вертикальное расположение кнопок на мобильных
  - Настроить одноколоночные панели для мобильной версии
  - Установить отступы 16-20px для мобильных устройств
  - _Требования: 8.1, 8.2, 8.3, 8.4_

- [ ] 6. Интегрировать с существующей системой продажи

  - Связать форму оплаты с системой отслеживания
  - Добавить перенаправление после успешной отправки формы
  - _Требования: 2.1, 3.1, 4.1, 5.1_

- [ ] 6.1 Обновить PaymentForm для интеграции с отслеживанием

  - Модифицировать обработчик отправки формы в PaymentForm
  - Добавить создание мок транзакции и перенаправление на страницу отслеживания
  - Использовать Next.js router для навигации
  - _Требования: 2.1, 3.1, 4.1, 5.1_

- [ ] 7. Создать необходимые иконки и ресурсы

  - Добавить недостающие иконки для системы отслеживания
  - Создать SVG иконки для состояний прогресса
  - _Требования: 1.4, 1.5, 1.6, 4.2_

- [ ] 7.1 Создать иконки для прогресс-бара

  - Создать SVG иконку галочки для завершенных шагов
  - Создать SVG иконку точки для текущего шага
  - Создать SVG иконку креста для отмененных шагов
  - Добавить иконку информации для баннеров
  - _Требования: 1.4, 1.5, 1.6_

- [ ] 7.2 Создать иконки для экранов транзакций

  - Создать большую красную иконку с крестом для экрана отмены
  - Добавить иконку Telegram для блока поддержки
  - Проверить наличие всех необходимых иконок в проекте
  - _Требования: 4.2, 5.4_

- [ ] 8. Добавить функциональность копирования и уведомлений

  - Реализовать функцию копирования в буфер обмена
  - _Требования: 6.1, 6.2, 6.3_

- [ ] 8.1 Создать утилиту для копирования в буфер обмена

  - Создать файл src/utils/clipboard.ts
  - Реализовать функцию copyToClipboard с обработкой ошибок
  - Добавить проверку поддержки Clipboard API браузером
  - _Требования: 6.1, 6.2_
