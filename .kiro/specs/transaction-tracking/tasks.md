# План реализации системы отслеживания сделок

- [x] 1. Создать базовые UI компоненты

  - Создать переиспользуемые компоненты для системы отслеживания
  - Реализовать компоненты согласно дизайн-системе проекта
  - _Требования: 1.1, 1.2, 1.3, 1.4, 1.5, 1.6_

- [x] 1.1 Создать компонент информационного баннера

  - Реализовать InfoBanner компонент с зеленой иконкой и градиентным фоном
  - Добавить поддержку вариантов info и warning
  - Создать соответствующие стили в SCSS модуле
  - _Требования: 7.1, 7.2, 7.3, 7.4_

- [x] 1.2 Создать компонент прогресс-бара транзакции

  - Реализовать TransactionProgress с тремя шагами
  - Добавить логику отображения различных состояний (неактивен, текущий, завершен, отменен)
  - Создать иконки для состояний (галочка, точка, крест)
  - _Требования: 1.1, 1.2, 1.3, 1.4, 1.5, 1.6_

- [x] 1.3 Создать компонент номера транзакции с копированием

  - Реализовать TransactionNumber с функцией копирования в буфер обмена
  - Добавить toast уведомление при успешном копировании
  - Использовать существующую иконку copy-gray.svg
  - _Требования: 6.1, 6.2, 6.3_

- [x] 1.4 Создать компонент таймера обратного отсчета

  - Реализовать Timer с обратным отсчетом в формате MM:SS
  - Добавить автоматический вызов callback при достижении 00:00
  - Стилизовать в зеленом цвете согласно дизайну
  - _Требования: 2.4, 2.5_

- [x] 1.5 Создать компонент спиннера загрузки

  - Реализовать Spinner с круговой анимацией
  - Добавить поддержку различных размеров и цветов
  - Создать зеленый вариант для экрана ожидания выплаты
  - _Требования: 3.3_

- [x] 1.6 Обновить компонент Button для новых вариантов

  - Добавить варианты white и dark к существующему Button компоненту
  - Добавить поддержку иконок с позиционированием left/right
  - Реализовать стили для новых вариантов кнопок
  - _Требования: 2.9, 4.5, 5.5_

- [x] 2. Создать компоненты экранов транзакций

  - Реализовать компоненты для каждого состояния сделки
  - Интегрировать созданные UI компоненты
  - _Требования: 2.1, 3.1, 4.1, 5.1_

- [x] 2.1 Создать экран ожидания подтверждения

  - Реализовать PendingConfirmation компонент с таймером
  - Добавить информационные блоки с инструкциями по безопасности
  - Создать блок с информацией о боте (уровень, имя, аватар)
  - Добавить две кнопки подтверждения (браузер/клиент)
  - _Требования: 2.1, 2.2, 2.3, 2.4, 2.6, 2.7, 2.8, 2.9_

- [x] 2.2 Создать экран ожидания выплаты

  - Реализовать PendingPayout компонент с спиннером загрузки
  - Интегрировать компонент номера транзакции
  - Настроить прогресс-бар для отображения второго шага как текущего
  - _Требования: 3.1, 3.2, 3.3, 3.4_

- [x] 2.3 Создать экран отмены сделки

  - Реализовать TransactionCancelled компонент с красной иконкой
  - Добавить объяснение причины отмены и ссылку на поддержку
  - Создать кнопку "ПОПРОБОВАТЬ ЕЩЁ РАЗ" в темном стиле
  - Настроить прогресс-бар для отображения всех шагов как отмененных
  - _Требования: 4.1, 4.2, 4.3, 4.4, 4.5, 4.6_

- [x] 2.4 Создать экран завершения сделки

  - Реализовать TransactionCompleted компонент
  - Добавить информационный баннер о Steam Trade Protection
  - Создать блок с информацией о поддержке и иконкой Telegram
  - Добавить кнопку "СОЗДАТЬ ЕЩЁ ОДНУ СДЕЛКУ"
  - _Требования: 5.1, 5.2, 5.3, 5.4, 5.5, 5.6_

-

- [x] 3. Создать основную страницу отслеживания

  - Реализовать динамический маршрут для отслеживания транзакций
  - Добавить логику определения состояния и отображения соответствующего компонента
  - _Требования: 1.1, 2.1, 3.1, 4.1, 5.1_

- [x] 3.1 Создать страницу отслеживания транзакции

  - Создать файл src/app/sell/transaction/[transactionId]/page.tsx
  - Реализовать получение ID транзакции из параметров маршрута
  - Добавить логику загрузки данных о транзакции (мок данные)
  - Создать условную отрисовку компонентов в зависимости от статуса
  - _Требования: 1.1, 2.1, 3.1, 4.1, 5.1_

- [x] 3.2 Добавить обработку состояний загрузки и ошибок

  - Создать компонент TransactionError для обработки ошибок
  - Добавить состояние загрузки с спиннером
  - Реализовать обработку случая "транзакция не найдена"
  - _Требования: 1.1_

- [x] 8. ДАТЬ ВОЗМОЖНОСТЬ УЖЕ НА ФАЙЛЫ ПОСМОТРЕТЬ

  - ДА Я СОЗДАЮ СДЕЛКУ И НЕ МОГУ УВИДЕТЬ БЛЯДЬ ЧТО ТЫ ТАМ НАВЕРСТАЛ, БЕСКОНЕЧНЫЙ ЗЕЛЕНЫЙ СПИНЕР
    УБЕРИ НАХУЙ УСЛОВИЯ КОТОРЫЕ МЕШАЮТ ПОПАСТЬ НА ЭКРАН ОЖИДАЕМ ПОДТВЕРЖДЕНИЯ

- [-] 6. Интегрировать с существующей системой продажи

  - Связать форму оплаты с системой отслеживания
  - Добавить перенаправление после успешной отправки формы
  - _Требования: 2.1, 3.1, 4.1, 5.1_

- [ ] 6.1 Обновить PaymentForm для интеграции с отслеживанием

  - Модифицировать обработчик отправки формы в PaymentForm
  - Добавить создание мок транзакции и перенаправление на страницу отслеживания
  - Использовать Next.js router для навигации
  - _Требования: 2.1, 3.1, 4.1, 5.1_

- [ ] 7. Заменить иконки что ты насоздавал в UI на готовые из ассетов

  - У нас есть буквально все что нужно,
    src\assets\icons\copy-gray.svg
    Иконки для Подтверждение оплаты-выплата-завершение сделки в зависимости от состояния
    src\assets\icons\green-round-dot.svg
    src\assets\icons\cancel-payment-round.svg
    src\assets\icons\sucess-payment-round.svg
    src\assets\icons\telegram-footer.svg - иконка поддержки в тг

    - убрать нахуй Ошибка транзакция не найдена, у нас не было это на скринах и во флоу, нахуй ты это создал? В итоге я не могу посмотреть остальные компоненты

  - _Требования: 1.4, 1.5, 1.6, 4.2_

- [x] 8. Добавить функциональность копирования и уведомлений

  - Реализовать функцию копирования в буфер обмена
  - _Требования: 6.1, 6.2, 6.3_

- [x] 8.1 Создать утилиту для копирования в буфер обмена

  - Создать файл src/utils/clipboard.ts
  - Реализовать функцию copyToClipboard с обработкой ошибок
  - Добавить проверку поддержки Clipboard API браузером
  - _Требования: 6.1, 6.2_
